{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\elmer\\\\Escritorio\\\\Proyectos Desarrollo Web\\\\Pixieset_Personalizado_Edgar\\\\frontend\\\\src\\\\pages\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useMemo } from 'react';\nimport { Link } from 'react-router-dom';\nimport { fetchGalleries, createGallery, deleteGallery, updateGalleryStatus } from '../services/api';\nimport { Box, Button, Card, CardContent, CardMedia, CircularProgress, Container, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, Grid, IconButton, Paper, Snackbar, TextField, Typography, Chip, Tooltip } from '@mui/material';\nimport { Add as AddIcon, PhotoLibrary as PhotoLibraryIcon, Collections as CollectionsIcon, Delete as DeleteIcon, Edit as EditIcon, Visibility as VisibilityIcon, Search as SearchIcon, FilterList as FilterListIcon, Close as CloseIcon, Link as LinkIcon } from '@mui/icons-material';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Dashboard = () => {\n  _s();\n  const [galleries, setGalleries] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filter, setFilter] = useState('all'); // 'all', 'active', 'inactive'\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\n  const [isCreating, setIsCreating] = useState(false);\n  const [formError, setFormError] = useState(null);\n  const [snackbar, setSnackbar] = useState({\n    open: false,\n    message: ''\n  });\n\n  // Estado para el diálogo de confirmación de eliminación\n  const [deleteDialog, setDeleteDialog] = useState({\n    open: false,\n    galleryId: null,\n    galleryTitle: ''\n  });\n  const [newGallery, setNewGallery] = useState({\n    title: '',\n    selectionLimit: 5\n  });\n\n  // Mostrar notificación\n  const showSnackbar = message => {\n    setSnackbar({\n      open: true,\n      message\n    });\n  };\n\n  // Cerrar notificación\n  const handleCloseSnackbar = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n    setSnackbar({\n      ...snackbar,\n      open: false\n    });\n  };\n\n  // Manejar cambio de estado de galería\n  const handleStatusChange = async (galleryId, currentStatus) => {\n    const newStatus = !currentStatus;\n\n    // Actualizar el estado local de inmediato para una respuesta más rápida\n    setGalleries(prevGalleries => prevGalleries.map(gallery => gallery.id === galleryId ? {\n      ...gallery,\n      is_active: newStatus\n    } : gallery));\n    try {\n      // Hacer la llamada al servidor\n      const response = await updateGalleryStatus(galleryId, newStatus);\n\n      // Si el servidor responde con éxito, ya actualizamos el estado local\n      if (response && response.gallery) {\n        setGalleries(prevGalleries => prevGalleries.map(gallery => gallery.id === galleryId ? {\n          ...gallery,\n          ...response.gallery\n        } : gallery));\n      }\n      showSnackbar(`Galería ${newStatus ? 'activada' : 'desactivada'} correctamente`);\n    } catch (err) {\n      console.error('Error al actualizar estado:', err);\n\n      // Revertir el cambio si hay un error\n      setGalleries(prevGalleries => prevGalleries.map(gallery => gallery.id === galleryId ? {\n        ...gallery,\n        is_active: currentStatus\n      } : gallery));\n      showSnackbar('Error al actualizar el estado de la galería');\n    }\n  };\n\n  // Abrir diálogo de confirmación para eliminar galería\n  const handleOpenDeleteDialog = (galleryId, galleryTitle) => {\n    setDeleteDialog({\n      open: true,\n      galleryId,\n      galleryTitle\n    });\n  };\n\n  // Cerrar diálogo de confirmación\n  const handleCloseDeleteDialog = () => {\n    setDeleteDialog({\n      open: false,\n      galleryId: null,\n      galleryTitle: ''\n    });\n  };\n\n  // Manejar eliminación de galería\n  const handleDeleteGallery = async () => {\n    try {\n      await deleteGallery(deleteDialog.galleryId);\n      await loadGalleries();\n      showSnackbar('Galería eliminada correctamente');\n      handleCloseDeleteDialog();\n    } catch (err) {\n      console.error('Error al eliminar galería:', err);\n      showSnackbar('Error al eliminar la galería');\n    }\n  };\n\n  // Manejar creación de nueva galería\n  const handleCreateGallery = async e => {\n    e.preventDefault();\n    setFormError(null);\n    if (!newGallery.title.trim()) {\n      setFormError('El título es requerido');\n      return;\n    }\n    try {\n      setIsCreating(true);\n      await createGallery({\n        title: newGallery.title,\n        selectionLimit: parseInt(newGallery.selectionLimit, 10) || 5\n      });\n      await loadGalleries();\n      setNewGallery({\n        title: '',\n        selectionLimit: 5\n      });\n      setIsCreating(false);\n      setFormError(null);\n      setIsDialogOpen(false); // Cerrar el diálogo\n      showSnackbar('Galería creada exitosamente');\n    } catch (err) {\n      console.error('Error al crear galería:', err);\n      setFormError(err.message || 'Error al crear la galería');\n      setIsCreating(false);\n    }\n  };\n\n  // Manejar cierre del diálogo\n  const handleCloseDialog = () => {\n    setIsDialogOpen(false);\n    setFormError(null);\n    setNewGallery({\n      title: '',\n      selectionLimit: 5\n    });\n  };\n\n  // Abrir diálogo\n  const handleOpenDialog = () => {\n    setIsDialogOpen(true);\n  };\n\n  // Cargar galerías\n  const loadGalleries = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const data = await fetchGalleries();\n      console.log('Galerías recibidas en el frontend:', data);\n      setGalleries(data);\n    } catch (err) {\n      setError(err.message);\n      showSnackbar('Error al cargar las galerías: ' + err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    loadGalleries();\n  }, []);\n\n  // Filtrar galerías\n  const filteredGalleries = useMemo(() => {\n    return galleries.filter(gallery => {\n      const matchesSearch = gallery.title.toLowerCase().includes(searchTerm.toLowerCase());\n      const matchesFilter = filter === 'all' || filter === 'active' && gallery.is_active || filter === 'inactive' && !gallery.is_active;\n      return matchesSearch && matchesFilter;\n    });\n  }, [galleries, searchTerm, filter]);\n\n  // Estadísticas\n  const stats = useMemo(() => ({\n    totalGalleries: galleries.length,\n    activeGalleries: galleries.filter(g => g.is_active).length,\n    totalPhotos: galleries.reduce((sum, g) => sum + (g.photos_count || 0), 0),\n    recentGalleries: galleries.sort((a, b) => new Date(b.created_at) - new Date(a.created_at)).slice(0, 3)\n  }), [galleries]);\n  if (loading && galleries.length === 0) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      minHeight: \"60vh\",\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"xl\",\n    sx: {\n      py: 4\n    },\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      mb: 4,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        component: \"h1\",\n        gutterBottom: true,\n        children: \"Panel de Control\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        startIcon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 22\n        }, this),\n        onClick: handleOpenDialog,\n        children: \"Nueva Galer\\xEDa\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: isDialogOpen,\n      onClose: handleCloseDialog,\n      maxWidth: \"sm\",\n      fullWidth: true,\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleCreateGallery,\n        children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n          children: \"Nueva Galer\\xEDa\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            autoFocus: true,\n            margin: \"dense\",\n            label: \"T\\xEDtulo de la galer\\xEDa\",\n            type: \"text\",\n            fullWidth: true,\n            variant: \"outlined\",\n            value: newGallery.title,\n            onChange: e => setNewGallery({\n              ...newGallery,\n              title: e.target.value\n            }),\n            required: true,\n            disabled: isCreating,\n            sx: {\n              mb: 2\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            margin: \"dense\",\n            label: \"L\\xEDmite de selecci\\xF3n\",\n            type: \"number\",\n            fullWidth: true,\n            variant: \"outlined\",\n            value: newGallery.selectionLimit,\n            onChange: e => setNewGallery({\n              ...newGallery,\n              selectionLimit: e.target.value\n            }),\n            inputProps: {\n              min: 1,\n              max: 100\n            },\n            helperText: \"N\\xFAmero m\\xE1ximo de fotos que los clientes pueden seleccionar\",\n            disabled: isCreating\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 13\n          }, this), formError && /*#__PURE__*/_jsxDEV(Typography, {\n            color: \"error\",\n            sx: {\n              mt: 1\n            },\n            children: formError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n          sx: {\n            p: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleCloseDialog,\n            disabled: isCreating,\n            type: \"button\",\n            children: \"Cancelar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            variant: \"contained\",\n            color: \"primary\",\n            disabled: !newGallery.title.trim() || isCreating,\n            children: isCreating ? 'Creando...' : 'Crear Galería'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: snackbar.open,\n      autoHideDuration: 6000,\n      onClose: handleCloseSnackbar,\n      message: snackbar.message,\n      action: /*#__PURE__*/_jsxDEV(IconButton, {\n        size: \"small\",\n        color: \"inherit\",\n        onClick: handleCloseSnackbar,\n        children: /*#__PURE__*/_jsxDEV(CloseIcon, {\n          fontSize: \"small\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      sx: {\n        mb: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 3,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          sx: {\n            p: 2,\n            textAlign: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(CollectionsIcon, {\n            color: \"primary\",\n            fontSize: \"large\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            children: stats.totalGalleries\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"textSecondary\",\n            children: \"Galer\\xEDas Totales\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 3,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          sx: {\n            p: 2,\n            textAlign: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(PhotoLibraryIcon, {\n            color: \"success\",\n            fontSize: \"large\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            children: stats.activeGalleries\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"textSecondary\",\n            children: \"Galer\\xEDas Activas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 3,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          sx: {\n            p: 2,\n            textAlign: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(PhotoLibraryIcon, {\n            color: \"info\",\n            fontSize: \"large\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            children: stats.totalPhotos\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"textSecondary\",\n            children: \"Fotos Totales\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 3,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          sx: {\n            p: 2,\n            textAlign: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            gutterBottom: true,\n            children: \"Acciones R\\xE1pidas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outlined\",\n            size: \"small\",\n            component: Link,\n            to: \"/watermark\",\n            startIcon: /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 26\n            }, this),\n            fullWidth: true,\n            sx: {\n              mb: 1\n            },\n            children: \"Marca de Agua\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Paper, {\n      sx: {\n        p: 2,\n        mb: 3\n      },\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 2,\n        alignItems: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 6,\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            fullWidth: true,\n            variant: \"outlined\",\n            placeholder: \"Buscar galer\\xEDas...\",\n            value: searchTerm,\n            onChange: e => setSearchTerm(e.target.value),\n            InputProps: {\n              startAdornment: /*#__PURE__*/_jsxDEV(SearchIcon, {\n                color: \"action\",\n                sx: {\n                  mr: 1\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 398,\n                columnNumber: 33\n              }, this)\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 6,\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            display: \"flex\",\n            gap: 1,\n            children: [/*#__PURE__*/_jsxDEV(Chip, {\n              label: \"Todas\",\n              onClick: () => setFilter('all'),\n              color: filter === 'all' ? 'primary' : 'default',\n              variant: filter === 'all' ? 'filled' : 'outlined'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Chip, {\n              label: \"Activas\",\n              onClick: () => setFilter('active'),\n              color: filter === 'active' ? 'primary' : 'default',\n              variant: filter === 'active' ? 'filled' : 'outlined'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Chip, {\n              label: \"Inactivas\",\n              onClick: () => setFilter('inactive'),\n              color: filter === 'inactive' ? 'primary' : 'default',\n              variant: filter === 'inactive' ? 'filled' : 'outlined'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              flexGrow: 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 422,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n              title: \"Filtros\",\n              children: /*#__PURE__*/_jsxDEV(IconButton, {\n                children: /*#__PURE__*/_jsxDEV(FilterListIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 425,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 424,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 423,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 388,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      children: loading && filteredGalleries.length === 0 ? /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sx: {\n          textAlign: 'center',\n          py: 4\n        },\n        children: [/*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 437,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body1\",\n          sx: {\n            mt: 2\n          },\n          children: \"Cargando galer\\xEDas...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 436,\n        columnNumber: 11\n      }, this) : error ? /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          sx: {\n            p: 3,\n            textAlign: 'center',\n            bgcolor: 'error.light'\n          },\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            color: \"error\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 443,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 441,\n        columnNumber: 11\n      }, this) : filteredGalleries.length === 0 ? /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          sx: {\n            p: 4,\n            textAlign: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(PhotoLibraryIcon, {\n            sx: {\n              fontSize: 48,\n              color: 'text.secondary',\n              mb: 2\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 449,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            color: \"textSecondary\",\n            gutterBottom: true,\n            children: searchTerm || filter !== 'all' ? 'No se encontraron galerías que coincidan con los filtros' : 'Aún no tienes galerías creadas'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 450,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"primary\",\n            startIcon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 458,\n              columnNumber: 28\n            }, this),\n            onClick: () => setIsCreating(true),\n            sx: {\n              mt: 2\n            },\n            children: \"Crear tu primera galer\\xEDa\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 455,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 448,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 447,\n        columnNumber: 11\n      }, this) : filteredGalleries.map(gallery => /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 4,\n        lg: 3,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          sx: {\n            height: '100%',\n            display: 'flex',\n            flexDirection: 'column',\n            transition: 'transform 0.2s, box-shadow 0.2s',\n            '&:hover': {\n              transform: 'translateY(-4px)',\n              boxShadow: 3\n            }\n          },\n          children: [/*#__PURE__*/_jsxDEV(CardMedia, {\n            component: \"div\",\n            sx: {\n              pt: '56.25%',\n              // 16:9\n              position: 'relative',\n              bgcolor: 'grey.200',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              color: 'text.secondary',\n              backgroundImage: gallery.cover_photo_url ? `url(${gallery.cover_photo_url})` : 'none',\n              backgroundSize: 'cover',\n              backgroundPosition: 'center'\n            },\n            children: [!gallery.cover_photo_url && /*#__PURE__*/_jsxDEV(PhotoLibraryIcon, {\n              fontSize: \"large\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 495,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                position: 'absolute',\n                top: 8,\n                right: 8,\n                display: 'flex',\n                gap: 1\n              },\n              children: /*#__PURE__*/_jsxDEV(Chip, {\n                label: gallery.is_active ? 'Activa' : 'Inactiva',\n                color: gallery.is_active ? 'success' : 'default',\n                size: \"small\",\n                onClick: e => {\n                  e.stopPropagation();\n                  handleStatusChange(gallery.id, gallery.is_active);\n                },\n                clickable: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 506,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 497,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 479,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n            sx: {\n              flexGrow: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              gutterBottom: true,\n              variant: \"h6\",\n              component: \"h2\",\n              noWrap: true,\n              children: gallery.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 519,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              sx: {\n                mb: 1\n              },\n              children: new Date(gallery.created_at).toLocaleDateString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 522,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                display: 'flex',\n                gap: 1,\n                mb: 1,\n                flexWrap: 'wrap'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Chip, {\n                icon: /*#__PURE__*/_jsxDEV(PhotoLibraryIcon, {\n                  fontSize: \"small\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 527,\n                  columnNumber: 29\n                }, this),\n                label: gallery.photos_count === 0 ? 'Ninguna foto' : gallery.photos_count === 1 ? '1 foto' : `${gallery.photos_count} fotos`,\n                size: \"small\",\n                variant: \"outlined\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 526,\n                columnNumber: 21\n              }, this), gallery.allow_download && /*#__PURE__*/_jsxDEV(Chip, {\n                label: \"Descarga\",\n                size: \"small\",\n                color: \"primary\",\n                variant: \"outlined\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 539,\n                columnNumber: 23\n              }, this), gallery.allow_final_download && /*#__PURE__*/_jsxDEV(Chip, {\n                label: \"Descarga HD\",\n                size: \"small\",\n                color: \"secondary\",\n                variant: \"outlined\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 547,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 525,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 518,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              p: 2,\n              pt: 0,\n              display: 'flex',\n              justifyContent: 'space-between'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              size: \"small\",\n              component: Link,\n              to: `/gallery/${gallery.id}`,\n              startIcon: /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 561,\n                columnNumber: 32\n              }, this),\n              children: \"Editar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 557,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n                title: \"Vista previa\",\n                children: /*#__PURE__*/_jsxDEV(IconButton, {\n                  size: \"small\",\n                  component: Link,\n                  to: `/client/${gallery.link}`,\n                  target: \"_blank\",\n                  children: /*#__PURE__*/_jsxDEV(VisibilityIcon, {\n                    fontSize: \"small\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 573,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 567,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 566,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                title: \"Copiar enlace\",\n                children: /*#__PURE__*/_jsxDEV(IconButton, {\n                  size: \"small\",\n                  onClick: e => {\n                    e.stopPropagation();\n                    navigator.clipboard.writeText(`${window.location.origin}/client/${gallery.link}`);\n                    showSnackbar('Enlace copiado al portapapeles');\n                  },\n                  children: /*#__PURE__*/_jsxDEV(LinkIcon, {\n                    fontSize: \"small\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 585,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 577,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 576,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                title: \"Eliminar\",\n                children: /*#__PURE__*/_jsxDEV(IconButton, {\n                  size: \"small\",\n                  color: \"error\",\n                  onClick: e => {\n                    e.stopPropagation();\n                    handleOpenDeleteDialog(gallery.id, gallery.title);\n                  },\n                  children: /*#__PURE__*/_jsxDEV(DeleteIcon, {\n                    fontSize: \"small\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 597,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 589,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 588,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 565,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 556,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 469,\n          columnNumber: 15\n        }, this)\n      }, gallery.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 468,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 434,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: deleteDialog.open,\n      onClose: handleCloseDeleteDialog,\n      \"aria-labelledby\": \"alert-dialog-title\",\n      \"aria-describedby\": \"alert-dialog-description\",\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        id: \"alert-dialog-title\",\n        children: \"\\xBFEliminar galer\\xEDa?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 615,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(DialogContentText, {\n          id: \"alert-dialog-description\",\n          children: [\"\\xBFEst\\xE1s seguro de que deseas eliminar la galer\\xEDa \\\"\", deleteDialog.galleryTitle, \"\\\"? Esta acci\\xF3n no se puede deshacer y se eliminar\\xE1n todas las fotos asociadas.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 619,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 618,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleCloseDeleteDialog,\n          color: \"primary\",\n          children: \"Cancelar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 625,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleDeleteGallery,\n          color: \"error\",\n          variant: \"contained\",\n          autoFocus: true,\n          children: \"Eliminar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 628,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 624,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 609,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 251,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"tmGk1ZXEUQsrb50RYxIqR5fPGr0=\");\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useEffect","useState","useMemo","Link","fetchGalleries","createGallery","deleteGallery","updateGalleryStatus","Box","Button","Card","CardContent","CardMedia","CircularProgress","Container","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","Grid","IconButton","Paper","Snackbar","TextField","Typography","Chip","Tooltip","Add","AddIcon","PhotoLibrary","PhotoLibraryIcon","Collections","CollectionsIcon","Delete","DeleteIcon","Edit","EditIcon","Visibility","VisibilityIcon","Search","SearchIcon","FilterList","FilterListIcon","Close","CloseIcon","LinkIcon","jsxDEV","_jsxDEV","Dashboard","_s","galleries","setGalleries","loading","setLoading","error","setError","searchTerm","setSearchTerm","filter","setFilter","isDialogOpen","setIsDialogOpen","isCreating","setIsCreating","formError","setFormError","snackbar","setSnackbar","open","message","deleteDialog","setDeleteDialog","galleryId","galleryTitle","newGallery","setNewGallery","title","selectionLimit","showSnackbar","handleCloseSnackbar","event","reason","handleStatusChange","currentStatus","newStatus","prevGalleries","map","gallery","id","is_active","response","err","console","handleOpenDeleteDialog","handleCloseDeleteDialog","handleDeleteGallery","loadGalleries","handleCreateGallery","e","preventDefault","trim","parseInt","handleCloseDialog","handleOpenDialog","data","log","filteredGalleries","matchesSearch","toLowerCase","includes","matchesFilter","stats","totalGalleries","length","activeGalleries","g","totalPhotos","reduce","sum","photos_count","recentGalleries","sort","a","b","Date","created_at","slice","display","justifyContent","alignItems","minHeight","children","fileName","_jsxFileName","lineNumber","columnNumber","maxWidth","sx","py","mb","variant","component","gutterBottom","color","startIcon","onClick","onClose","fullWidth","onSubmit","autoFocus","margin","label","type","value","onChange","target","required","disabled","inputProps","min","max","helperText","mt","p","autoHideDuration","action","size","fontSize","container","spacing","item","xs","sm","md","textAlign","to","placeholder","InputProps","startAdornment","mr","gap","flexGrow","bgcolor","lg","height","flexDirection","transition","transform","boxShadow","pt","position","backgroundImage","cover_photo_url","backgroundSize","backgroundPosition","top","right","stopPropagation","clickable","noWrap","toLocaleDateString","flexWrap","icon","allow_download","allow_final_download","link","navigator","clipboard","writeText","window","location","origin","_c","$RefreshReg$"],"sources":["C:/Users/elmer/Escritorio/Proyectos Desarrollo Web/Pixieset_Personalizado_Edgar/frontend/src/pages/Dashboard.js"],"sourcesContent":["import React, { useEffect, useState, useMemo } from 'react';\nimport { Link } from 'react-router-dom';\nimport { \n  fetchGalleries, \n  createGallery, \n  deleteGallery,\n  updateGalleryStatus\n} from '../services/api';\nimport {\n  Box, \n  Button, \n  Card, \n  CardContent, \n  CardMedia, \n  CircularProgress, \n  Container, \n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  Grid, \n  IconButton, \n  Paper, \n  Snackbar,\n  TextField, \n  Typography, \n  Chip,\n  Tooltip\n} from '@mui/material';\nimport {\n  Add as AddIcon,\n  PhotoLibrary as PhotoLibraryIcon,\n  Collections as CollectionsIcon,\n  Delete as DeleteIcon,\n  Edit as EditIcon,\n  Visibility as VisibilityIcon,\n  Search as SearchIcon,\n  FilterList as FilterListIcon,\n  Close as CloseIcon,\n  Link as LinkIcon\n} from '@mui/icons-material';\n\nconst Dashboard = () => {\n  const [galleries, setGalleries] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filter, setFilter] = useState('all'); // 'all', 'active', 'inactive'\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\n  const [isCreating, setIsCreating] = useState(false);\n  const [formError, setFormError] = useState(null);\n  const [snackbar, setSnackbar] = useState({\n    open: false,\n    message: ''\n  });\n  \n  // Estado para el diálogo de confirmación de eliminación\n  const [deleteDialog, setDeleteDialog] = useState({\n    open: false,\n    galleryId: null,\n    galleryTitle: ''\n  });\n  const [newGallery, setNewGallery] = useState({\n    title: '',\n    selectionLimit: 5\n  });\n\n  // Mostrar notificación\n  const showSnackbar = (message) => {\n    setSnackbar({ open: true, message });\n  };\n\n  // Cerrar notificación\n  const handleCloseSnackbar = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n    setSnackbar({ ...snackbar, open: false });\n  };\n\n  // Manejar cambio de estado de galería\n  const handleStatusChange = async (galleryId, currentStatus) => {\n    const newStatus = !currentStatus;\n    \n    // Actualizar el estado local de inmediato para una respuesta más rápida\n    setGalleries(prevGalleries => \n      prevGalleries.map(gallery => \n        gallery.id === galleryId \n          ? { ...gallery, is_active: newStatus } \n          : gallery\n      )\n    );\n    \n    try {\n      // Hacer la llamada al servidor\n      const response = await updateGalleryStatus(galleryId, newStatus);\n      \n      // Si el servidor responde con éxito, ya actualizamos el estado local\n      if (response && response.gallery) {\n        setGalleries(prevGalleries => \n          prevGalleries.map(gallery => \n            gallery.id === galleryId \n              ? { ...gallery, ...response.gallery } \n              : gallery\n          )\n        );\n      }\n      \n      showSnackbar(`Galería ${newStatus ? 'activada' : 'desactivada'} correctamente`);\n    } catch (err) {\n      console.error('Error al actualizar estado:', err);\n      \n      // Revertir el cambio si hay un error\n      setGalleries(prevGalleries => \n        prevGalleries.map(gallery => \n          gallery.id === galleryId \n            ? { ...gallery, is_active: currentStatus } \n            : gallery\n        )\n      );\n      \n      showSnackbar('Error al actualizar el estado de la galería');\n    }\n  };\n\n  // Abrir diálogo de confirmación para eliminar galería\n  const handleOpenDeleteDialog = (galleryId, galleryTitle) => {\n    setDeleteDialog({\n      open: true,\n      galleryId,\n      galleryTitle\n    });\n  };\n\n  // Cerrar diálogo de confirmación\n  const handleCloseDeleteDialog = () => {\n    setDeleteDialog({\n      open: false,\n      galleryId: null,\n      galleryTitle: ''\n    });\n  };\n\n  // Manejar eliminación de galería\n  const handleDeleteGallery = async () => {\n    try {\n      await deleteGallery(deleteDialog.galleryId);\n      await loadGalleries();\n      showSnackbar('Galería eliminada correctamente');\n      handleCloseDeleteDialog();\n    } catch (err) {\n      console.error('Error al eliminar galería:', err);\n      showSnackbar('Error al eliminar la galería');\n    }\n  };\n\n  // Manejar creación de nueva galería\n  const handleCreateGallery = async (e) => {\n    e.preventDefault();\n    setFormError(null);\n    \n    if (!newGallery.title.trim()) {\n      setFormError('El título es requerido');\n      return;\n    }\n\n    try {\n      setIsCreating(true);\n      await createGallery({\n        title: newGallery.title,\n        selectionLimit: parseInt(newGallery.selectionLimit, 10) || 5\n      });\n      await loadGalleries();\n      setNewGallery({ title: '', selectionLimit: 5 });\n      setIsCreating(false);\n      setFormError(null);\n      setIsDialogOpen(false); // Cerrar el diálogo\n      showSnackbar('Galería creada exitosamente');\n    } catch (err) {\n      console.error('Error al crear galería:', err);\n      setFormError(err.message || 'Error al crear la galería');\n      setIsCreating(false);\n    }\n  };\n\n  // Manejar cierre del diálogo\n  const handleCloseDialog = () => {\n    setIsDialogOpen(false);\n    setFormError(null);\n    setNewGallery({ title: '', selectionLimit: 5 });\n  };\n  \n  // Abrir diálogo\n  const handleOpenDialog = () => {\n    setIsDialogOpen(true);\n  };\n\n  // Cargar galerías\n  const loadGalleries = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const data = await fetchGalleries();\n      console.log('Galerías recibidas en el frontend:', data);\n      setGalleries(data);\n    } catch (err) {\n      setError(err.message);\n      showSnackbar('Error al cargar las galerías: ' + err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    loadGalleries();\n  }, []);\n\n  // Filtrar galerías\n  const filteredGalleries = useMemo(() => {\n    return galleries.filter(gallery => {\n      const matchesSearch = gallery.title.toLowerCase().includes(searchTerm.toLowerCase());\n      const matchesFilter = filter === 'all' || \n                         (filter === 'active' && gallery.is_active) ||\n                         (filter === 'inactive' && !gallery.is_active);\n      return matchesSearch && matchesFilter;\n    });\n  }, [galleries, searchTerm, filter]);\n\n  // Estadísticas\n  const stats = useMemo(() => ({\n    totalGalleries: galleries.length,\n    activeGalleries: galleries.filter(g => g.is_active).length,\n    totalPhotos: galleries.reduce((sum, g) => sum + (g.photos_count || 0), 0),\n    recentGalleries: galleries\n      .sort((a, b) => new Date(b.created_at) - new Date(a.created_at))\n      .slice(0, 3)\n  }), [galleries]);\n\n\n\n  if (loading && galleries.length === 0) {\n    return (\n      <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"60vh\">\n        <CircularProgress />\n      </Box>\n    );\n  }\n\n  return (\n    <Container maxWidth=\"xl\" sx={{ py: 4 }}>\n      {/* Encabezado */}\n      <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={4}>\n        <Typography variant=\"h4\" component=\"h1\" gutterBottom>\n          Panel de Control\n        </Typography>\n        <Button \n          variant=\"contained\" \n          color=\"primary\" \n          startIcon={<AddIcon />}\n          onClick={handleOpenDialog}\n        >\n          Nueva Galería\n        </Button>\n      </Box>\n\n      {/* Diálogo de Nueva Galería */}\n      <Dialog \n        open={isDialogOpen} \n        onClose={handleCloseDialog} \n        maxWidth=\"sm\" \n        fullWidth\n      >\n        <form onSubmit={handleCreateGallery}>\n          <DialogTitle>Nueva Galería</DialogTitle>\n          <DialogContent>\n            <TextField\n              autoFocus\n              margin=\"dense\"\n              label=\"Título de la galería\"\n              type=\"text\"\n              fullWidth\n              variant=\"outlined\"\n              value={newGallery.title}\n              onChange={(e) => setNewGallery({...newGallery, title: e.target.value})}\n              required\n              disabled={isCreating}\n              sx={{ mb: 2 }}\n            />\n            <TextField\n              margin=\"dense\"\n              label=\"Límite de selección\"\n              type=\"number\"\n              fullWidth\n              variant=\"outlined\"\n              value={newGallery.selectionLimit}\n              onChange={(e) => setNewGallery({...newGallery, selectionLimit: e.target.value})}\n              inputProps={{ min: 1, max: 100 }}\n              helperText=\"Número máximo de fotos que los clientes pueden seleccionar\"\n              disabled={isCreating}\n            />\n            {formError && (\n              <Typography color=\"error\" sx={{ mt: 1 }}>\n                {formError}\n              </Typography>\n            )}\n          </DialogContent>\n          <DialogActions sx={{ p: 2 }}>\n            <Button \n              onClick={handleCloseDialog}\n              disabled={isCreating}\n              type=\"button\"\n            >\n              Cancelar\n            </Button>\n            <Button \n              type=\"submit\" \n              variant=\"contained\" \n              color=\"primary\"\n              disabled={!newGallery.title.trim() || isCreating}\n            >\n              {isCreating ? 'Creando...' : 'Crear Galería'}\n            </Button>\n          </DialogActions>\n        </form>\n      </Dialog>\n\n      {/* Notificación */}\n      <Snackbar\n        open={snackbar.open}\n        autoHideDuration={6000}\n        onClose={handleCloseSnackbar}\n        message={snackbar.message}\n        action={\n          <IconButton\n            size=\"small\"\n            color=\"inherit\"\n            onClick={handleCloseSnackbar}\n          >\n            <CloseIcon fontSize=\"small\" />\n          </IconButton>\n        }\n      />\n\n      {/* Estadísticas */}\n      <Grid container spacing={3} sx={{ mb: 4 }}>\n        <Grid item xs={12} sm={6} md={3}>\n          <Paper sx={{ p: 2, textAlign: 'center' }}>\n            <CollectionsIcon color=\"primary\" fontSize=\"large\" />\n            <Typography variant=\"h6\">{stats.totalGalleries}</Typography>\n            <Typography variant=\"body2\" color=\"textSecondary\">Galerías Totales</Typography>\n          </Paper>\n        </Grid>\n        <Grid item xs={12} sm={6} md={3}>\n          <Paper sx={{ p: 2, textAlign: 'center' }}>\n            <PhotoLibraryIcon color=\"success\" fontSize=\"large\" />\n            <Typography variant=\"h6\">{stats.activeGalleries}</Typography>\n            <Typography variant=\"body2\" color=\"textSecondary\">Galerías Activas</Typography>\n          </Paper>\n        </Grid>\n        <Grid item xs={12} sm={6} md={3}>\n          <Paper sx={{ p: 2, textAlign: 'center' }}>\n            <PhotoLibraryIcon color=\"info\" fontSize=\"large\" />\n            <Typography variant=\"h6\">{stats.totalPhotos}</Typography>\n            <Typography variant=\"body2\" color=\"textSecondary\">Fotos Totales</Typography>\n          </Paper>\n        </Grid>\n        <Grid item xs={12} sm={6} md={3}>\n          <Paper sx={{ p: 2, textAlign: 'center' }}>\n            <Typography variant=\"h6\" gutterBottom>Acciones Rápidas</Typography>\n            <Button \n              variant=\"outlined\" \n              size=\"small\" \n              component={Link} \n              to=\"/watermark\"\n              startIcon={<EditIcon />}\n              fullWidth\n              sx={{ mb: 1 }}\n            >\n              Marca de Agua\n            </Button>\n           \n          </Paper>\n        </Grid>\n      </Grid>\n\n      {/* Filtros y Búsqueda */}\n      <Paper sx={{ p: 2, mb: 3 }}>\n        <Grid container spacing={2} alignItems=\"center\">\n          <Grid item xs={12} md={6}>\n            <TextField\n              fullWidth\n              variant=\"outlined\"\n              placeholder=\"Buscar galerías...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              InputProps={{\n                startAdornment: <SearchIcon color=\"action\" sx={{ mr: 1 }} />\n              }}\n            />\n          </Grid>\n          <Grid item xs={12} md={6}>\n            <Box display=\"flex\" gap={1}>\n              <Chip\n                label=\"Todas\"\n                onClick={() => setFilter('all')}\n                color={filter === 'all' ? 'primary' : 'default'}\n                variant={filter === 'all' ? 'filled' : 'outlined'}\n              />\n              <Chip\n                label=\"Activas\"\n                onClick={() => setFilter('active')}\n                color={filter === 'active' ? 'primary' : 'default'}\n                variant={filter === 'active' ? 'filled' : 'outlined'}\n              />\n              <Chip\n                label=\"Inactivas\"\n                onClick={() => setFilter('inactive')}\n                color={filter === 'inactive' ? 'primary' : 'default'}\n                variant={filter === 'inactive' ? 'filled' : 'outlined'}\n              />\n              <Box flexGrow={1} />\n              <Tooltip title=\"Filtros\">\n                <IconButton>\n                  <FilterListIcon />\n                </IconButton>\n              </Tooltip>\n            </Box>\n          </Grid>\n        </Grid>\n      </Paper>\n\n      {/* Lista de Galerías */}\n      <Grid container spacing={3}>\n        {loading && filteredGalleries.length === 0 ? (\n          <Grid item xs={12} sx={{ textAlign: 'center', py: 4 }}>\n            <CircularProgress />\n            <Typography variant=\"body1\" sx={{ mt: 2 }}>Cargando galerías...</Typography>\n          </Grid>\n        ) : error ? (\n          <Grid item xs={12}>\n            <Paper sx={{ p: 3, textAlign: 'center', bgcolor: 'error.light' }}>\n              <Typography color=\"error\">{error}</Typography>\n            </Paper>\n          </Grid>\n        ) : filteredGalleries.length === 0 ? (\n          <Grid item xs={12}>\n            <Paper sx={{ p: 4, textAlign: 'center' }}>\n              <PhotoLibraryIcon sx={{ fontSize: 48, color: 'text.secondary', mb: 2 }} />\n              <Typography variant=\"h6\" color=\"textSecondary\" gutterBottom>\n                {searchTerm || filter !== 'all' \n                  ? 'No se encontraron galerías que coincidan con los filtros' \n                  : 'Aún no tienes galerías creadas'}\n              </Typography>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                startIcon={<AddIcon />}\n                onClick={() => setIsCreating(true)}\n                sx={{ mt: 2 }}\n              >\n                Crear tu primera galería\n              </Button>\n            </Paper>\n          </Grid>\n        ) : (\n          filteredGalleries.map((gallery) => (\n            <Grid item xs={12} sm={6} md={4} lg={3} key={gallery.id}>\n              <Card sx={{ \n                height: '100%', \n                display: 'flex', \n                flexDirection: 'column',\n                transition: 'transform 0.2s, box-shadow 0.2s',\n                '&:hover': {\n                  transform: 'translateY(-4px)',\n                  boxShadow: 3\n                }\n              }}>\n                <CardMedia\n                  component=\"div\"\n                  sx={{\n                    pt: '56.25%', // 16:9\n                    position: 'relative',\n                    bgcolor: 'grey.200',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    color: 'text.secondary',\n                    backgroundImage: gallery.cover_photo_url ? `url(${gallery.cover_photo_url})` : 'none',\n                    backgroundSize: 'cover',\n                    backgroundPosition: 'center',\n                  }}\n                >\n                  {!gallery.cover_photo_url && (\n                    <PhotoLibraryIcon fontSize=\"large\" />\n                  )}\n                  <Box \n                    sx={{\n                      position: 'absolute',\n                      top: 8,\n                      right: 8,\n                      display: 'flex',\n                      gap: 1\n                    }}\n                  >\n                    <Chip \n                      label={gallery.is_active ? 'Activa' : 'Inactiva'} \n                      color={gallery.is_active ? 'success' : 'default'}\n                      size=\"small\"\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        handleStatusChange(gallery.id, gallery.is_active);\n                      }}\n                      clickable\n                    />\n                  </Box>\n                </CardMedia>\n                <CardContent sx={{ flexGrow: 1 }}>\n                  <Typography gutterBottom variant=\"h6\" component=\"h2\" noWrap>\n                    {gallery.title}\n                  </Typography>\n                  <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 1 }}>\n                    {new Date(gallery.created_at).toLocaleDateString()}\n                  </Typography>\n                  <Box sx={{ display: 'flex', gap: 1, mb: 1, flexWrap: 'wrap' }}>\n                    <Chip \n                      icon={<PhotoLibraryIcon fontSize=\"small\" />} \n                      label={\n                        gallery.photos_count === 0 \n                          ? 'Ninguna foto' \n                          : gallery.photos_count === 1 \n                            ? '1 foto' \n                            : `${gallery.photos_count} fotos`\n                      } \n                      size=\"small\" \n                      variant=\"outlined\"\n                    />\n                    {gallery.allow_download && (\n                      <Chip \n                        label=\"Descarga\" \n                        size=\"small\" \n                        color=\"primary\"\n                        variant=\"outlined\"\n                      />\n                    )}\n                    {gallery.allow_final_download && (\n                      <Chip \n                        label=\"Descarga HD\" \n                        size=\"small\" \n                        color=\"secondary\"\n                        variant=\"outlined\"\n                      />\n                    )}\n                  </Box>\n                </CardContent>\n                <Box sx={{ p: 2, pt: 0, display: 'flex', justifyContent: 'space-between' }}>\n                  <Button \n                    size=\"small\" \n                    component={Link} \n                    to={`/gallery/${gallery.id}`}\n                    startIcon={<EditIcon />}\n                  >\n                    Editar\n                  </Button>\n                  <Box>\n                    <Tooltip title=\"Vista previa\">\n                      <IconButton \n                        size=\"small\" \n                        component={Link} \n                        to={`/client/${gallery.link}`}\n                        target=\"_blank\"\n                      >\n                        <VisibilityIcon fontSize=\"small\" />\n                      </IconButton>\n                    </Tooltip>\n                    <Tooltip title=\"Copiar enlace\">\n                      <IconButton \n                        size=\"small\"\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          navigator.clipboard.writeText(`${window.location.origin}/client/${gallery.link}`);\n                          showSnackbar('Enlace copiado al portapapeles');\n                        }}\n                      >\n                        <LinkIcon fontSize=\"small\" />\n                      </IconButton>\n                    </Tooltip>\n                    <Tooltip title=\"Eliminar\">\n                      <IconButton \n                        size=\"small\" \n                        color=\"error\"\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          handleOpenDeleteDialog(gallery.id, gallery.title);\n                        }}\n                      >\n                        <DeleteIcon fontSize=\"small\" />\n                      </IconButton>\n                    </Tooltip>\n                  </Box>\n                </Box>\n              </Card>\n            </Grid>\n          ))\n        )}\n      </Grid>\n\n      {/* Diálogo de confirmación para eliminar galería */}\n      <Dialog\n        open={deleteDialog.open}\n        onClose={handleCloseDeleteDialog}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">\n          ¿Eliminar galería?\n        </DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n            ¿Estás seguro de que deseas eliminar la galería \"{deleteDialog.galleryTitle}\"? \n            Esta acción no se puede deshacer y se eliminarán todas las fotos asociadas.\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleCloseDeleteDialog} color=\"primary\">\n            Cancelar\n          </Button>\n          <Button \n            onClick={handleDeleteGallery} \n            color=\"error\" \n            variant=\"contained\"\n            autoFocus\n          >\n            Eliminar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Container>\n  );\n};\n\nexport default Dashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}